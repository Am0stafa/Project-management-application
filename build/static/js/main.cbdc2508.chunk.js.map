{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","pages/dashboard/ProjectFilter.js","components/Avatar.js","components/ProjectList.js","hooks/useDocument.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","pages/project/ProjectComments.js","pages/project/ProjectSummary.js","pages/project/Project.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","id","data","console","log","filterList","ProjectFilter","changeFilter","currentFilter","setCurrentFilter","className","map","filter","onClick","handleClick","Avatar","src","alt","ProjectList","projects","pros","pro","answer","project","assignedUsersList","ass","FieldPath","documentId","createdBy","cb","change","length","to","name","dueDate","toDate","toDateString","photoURL","Math","random","useDocument","document","setDocument","err","message","Dashboard","setFilter","uid","includes","category","newFilter","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","setName","users","setUsers","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","history","useNavigate","handleSubmit","e","preventDefault","u","comments","el","prev","arr","displayName","onSubmit","required","onChange","target","style","resize","option","options","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","useLogin","autoComplete","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","image","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","updateProfile","set","online","useSignup","accept","file","files","size","split","ProjectComments","newComment","setNewComment","comment","content","uuidv4","formatDistanceToNow","addSuffix","ProjectSummary","parseInt","Project","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","end","DashboardIcon","AddIcon","OnlineUsers","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbdc2508.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBIXOz6UOjF_DBsEeb1QnJ_8_gAfTza70A\",\n    authDomain: \"project-manger-56f5b.firebaseapp.com\",\n    projectId: \"project-manger-56f5b\",\n    storageBucket: \"project-manger-56f5b.appspot.com\",\n    messagingSenderId: \"406573254486\",\n    appId: \"1:406573254486:web:4841edac96b60e75ffb8f7\"\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig)\n\n// init services\nconst db = firebase.firestore()\nconst auth = firebase.auth()\nconst storage = firebase.storage()\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp\n\nexport { db, auth, timestamp, storage }\n","import { createContext, useReducer, useEffect } from 'react'\nimport { auth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user:null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n  \n    const unsub = auth.onAuthStateChanged(user => {\n      //dispatch({ type: 'AUTH_IS_READY', payload: {'':''} })\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n\n      unsub()\n    })\n  }, [])\n\n  // console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { db } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = db.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({id: doc.id,...doc.data()})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","import { useState } from 'react'\nconst filterList = ['all', 'assigned to me', 'development', 'design', 'marketing', 'sales'] //^ output a button for each one\n\nconst ProjectFilter = ({changeFilter}) => {\n  const [currentFilter, setCurrentFilter] = useState('all')\n\n  const handleClick = (filter) => {\n    setCurrentFilter(filter)\n    changeFilter(filter)\n  }\n\n  return (\n    <div className=\"project-filter\">\n        <nav>\n          <p>Filter by: </p>\n          {\n            filterList.map((filter,id) =>(\n              <button \n                key={id} \n                className={currentFilter === filter ? 'active' : ''} \n                onClick={() => handleClick(filter)}\n              >\n                {filter}\n              </button>\n            ))\n          }\n        </nav>\n    \n    </div>\n  )\n}\n\nexport default ProjectFilter\n//! nav with all of the different buttons we can click to add different filters","import './Avatar.css'\n\nexport default function Avatar({ src }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user photo\"/>\n    </div>\n  )\n  \n}\n","//! takes in some documents and output on a list of those documents\nimport { Link } from 'react-router-dom'\nimport Avatar from '../components/Avatar'\nimport { useCollection } from '../hooks/useCollection'\nimport './ProjectList.css'\nimport firebase from 'firebase/app'\nimport 'firebase/firestore'\n\nexport default function ProjectList({ projects }) {\n\n  \n  const change = () => {\n    const pro = [...projects]\n    const answer = []\n    \n    pro.forEach(project =>{\n      const assignedUsersList = project.assignedUsersList.map((ass)=>{\n          const { documents, error } = useCollection('users', [firebase.firestore.FieldPath.documentId(), \"==\", ass])\n          return documents?.[0]\n\n      })\n      \n      const { documents:cb, error } = useCollection('users', [firebase.firestore.FieldPath.documentId(), \"==\", project.createdBy])  \n      \n      answer.push({\n        ...project,\n        assignedUsersList,\n        createdBy:cb?.[0]\n      })\n\n    })\n\n    return answer\n  }\n  const pros = change()\n\n\n  return (\n    <div className=\"project-list\">\n      {pros?.length === 0 && <p>No projects yet!!</p>}\n      {pros?.map((project) => (\n        <Link to={`/projects/${project.id}`} key={project?.id ?? Math.random()}>\n          <h4>{project?.name}</h4>\n          <p>Due by {project?.dueDate.toDate().toDateString()}</p>\n          <div className=\"assigned-to\">\n            <p><strong>Assigned to:</strong></p>\n            <ul>\n              {project?.assignedUsersList.map(user => (\n                <li key={user?.photoURL ?? Math.random()}>\n                  <Avatar src={user?.photoURL} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  )\n}\n","//! setup a real time listener to a specific document whereby we pass the id of that document and collection name\n\nimport { useEffect, useState } from \"react\"\nimport { db } from \"../firebase/config\"\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null)\n  const [error, setError] = useState(null)\n\n  // realtime document data\n  useEffect(() => {\n    const ref = db.collection(collection).doc(id)\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      // need to make sure the doc exists & has data\n      if(snapshot.data()) {\n        setDocument({...snapshot.data(), id: snapshot.id})\n        setError(null)\n      }\n      else {\n        setError('No such document exists')\n      }\n    }, err => {\n      console.log(err.message)\n      setError('failed to get document')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, id])\n\n  return { document, error }\n}","import { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport './Dashboard.css'\nimport ProjectFilter from './ProjectFilter';\nimport ProjectList from '../../components/ProjectList';\nimport { useDocument } from '../../hooks/useDocument';\n\nexport default function Dashboard() {\n\n  const { user } = useAuthContext()\n  const { documents, error } = useCollection('projects')\n  const [filter, setFilter] = useState('all')\n\n  \n  const changeFilter = (newFilter) => {\n    setFilter(newFilter)\n  }\n  \n  if (!documents && !error) {\n    return <div className=\"loading\">Loading...</div>\n  }\n\n  //! look at the filter state and based on that value filter the projects\n  const project = documents ? documents.filter((document)=>{\n    switch(filter){\n      case 'all':\n        return true\n      case 'assigned to me':\n        return document.assignedUsersList.map((id)=>{\n          return user.uid === id\n        }).includes(true)\n      case 'development':\n      case 'design':\n      case 'sales':\n      case 'marketing':\n        return document.category === filter\n      default:\n        return true\n    }\n  \n  }) : []\n\n\n  \n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n         {error && <p className=\"error\">{error}</p>}\n         {documents && <ProjectFilter changeFilter={changeFilter} />}\n         {documents && <ProjectList projects={project} />}\n    </div>\n  )\n}\n","import { useReducer, useEffect, useState } from \"react\"\nimport { db, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    case \"UPDATED_DOCUMENT\":\n      return { isPending: false, document: action.payload, success: true,  error: null }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = db.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n  \n  const updateDocument = async (id,updates) => {\n    dispatch({ type: \"IS_PENDING\" })\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: \"UPDATED_DOCUMENT\", payload: updatedDocument })\n      return updatedDocument\n    } \n    catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error })\n      return null\n    }\n    \n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument , response }\n\n}\n","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport { timestamp } from '../../firebase/config'\nimport { useEffect, useState } from 'react'\nimport './Create.css'\nimport Select from 'react-select'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useNavigate } from 'react-router-dom'\n\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n]\n\nexport default function Create() {\n  const [name, setName] = useState('')\n  const [users, setUsers] = useState([{}])\n  const [details, setDetails] = useState('')\n  const [dueDate, setDueDate] = useState('')\n  const [category, setCategory] = useState('')\n  const [assignedUsers, setAssignedUsers] = useState([])\n  const [formError, setFormError] = useState(null)\n  \n  const { addDocument, response } = useFirestore('projects')\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection('users', [firebase.firestore.FieldPath.documentId(), \"!=\", user.uid])  \n  const history = useNavigate();\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setFormError(null)\n          \n    if(!category || assignedUsers.length < 1){\n      setFormError(\"Missing fields\")\n      return\n    }\n    \n    const assignedUsersList = assignedUsers.map((u)=>{\n      return u.value\n    })\n    \n    //! this is the document that we will save in the database\n    const project = {\n      name,\n      details,\n      assignedUsersList,\n      createdBy:user.uid,\n      category,\n      dueDate:timestamp.fromDate(new Date(dueDate)),\n      comments:[],\n    };\n    \n    await addDocument(project)\n    \n    if (!response.error) {\n      history('/')\n    }\n  }\n  \n  useEffect(() => {\n  \n   documents?.forEach((el)=>{\n      setUsers((prev)=>{\n        const arr = [...prev]\n        arr.push({\n          label: el.displayName, value: el.id\n        })\n        return arr\n      })\n    })\n        \n  },[documents, error])\n  \n  \n  return  !error && (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new Project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required \n            type=\"text\" \n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea\n            required\n            style={{resize: \"none\"}}\n            onChange={(e) => setDetails(e.target.value)}\n            value={details} \n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required \n            type=\"date\" \n            onChange={(e) => setDueDate(e.target.value)} \n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            onChange={(option) => setCategory(option.value)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add Project</button>\n\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\nimport './Login.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email} \n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          required\n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete='true'\n          value={password} \n        />\n      </label>\n      {!isPending && <button className=\"btn\">Log in</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { auth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await auth.signInWithEmailAndPassword(email, password)\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","\nimport { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\nimport './Signup.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [thumbnail, setThumbnail] = useState(null)\n  const [thumbnailError, setThumbnailError] = useState(null)\n  const { signup, error, isPending } = useSignup()\n  \n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, thumbnail)\n  }\n  \n  const handleFileChange = (e) => {\n    setThumbnailError(null)\n    const file = e.target.files[0]\n    //! limit size and only image and not null\n    console.log(file.size)\n    if(!file){\n      setThumbnailError('Please select a file')\n      return\n    }\n\n    if(file.size > 2600000){\n      setThumbnailError('Image file size must be less than 2.5MB')\n      return\n    }\n    \n    if(file.type.split('/')[0] !== 'image'){\n      setThumbnailError('File is not an image')\n      return\n    }\n    \n    console.log('added')\n    setThumbnail(file)\n  }\n  \n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          autoComplete='true'\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type=\"text\" \n          onChange={(e) => setDisplayName(e.target.value)} \n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input \n          required\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleFileChange}\n        />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { auth,storage,db } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName, image) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await auth.createUserWithEmailAndPassword(email, password)\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n    \n      //! upload the image into user folder\n      \n      //^ this is the path that we want to user to upload an image to in our storage bucket\n      const uploadPath = `thumbnail/${res.user.uid}/${image.name}`\n      \n      //^ so we can have a reference to a very specific space inside our bucket that we want to upload to \n      const img = await storage.ref(uploadPath).put(image)\n      \n      //^ get the url\n      const photoURL = await img.ref.getDownloadURL()\n      \n      // add display name to user\n      await res.user.updateProfile({ displayName, photoURL })\n      \n      //! create a user Document\n      \n      //^ this makes a reference to a new document inside the users collection with the user id as we cant use add as we want to add the user id. After that update the document so we create a new reference and add data to it\n      await db.collection('users').doc(res.user.uid).set({\n        online:true,\n        displayName,\n        photoURL,\n      })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}","import { useState } from \"react\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport Avatar from \"../../components/Avatar\"\nimport { v4 as uuidv4 } from 'uuid';\nimport { formatDistanceToNow } from \"date-fns\"\n\n\nconst ProjectComments = ({project}) => {\n  const { user } = useAuthContext()\n  const { updateDocument, response } = useFirestore('projects')\n  const [newComment, setNewComment] = useState('')\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    const comment = {\n      displayName:user.displayName,\n      photoURL:user.photoURL,\n      content:newComment,\n      createdAt:timestamp.fromDate(new Date()),\n      id:uuidv4()\n    }\n\n    await updateDocument(project.id,{\n      comments:[...project.comments, comment],\n    })\n\n    if (!response.error)\n      setNewComment('')\n    else\n      console.log(response.error)\n  }\n\n  return (\n    <div className=\"project-comments\">\n      <h4>Project Comments</h4>\n      \n      <ul>\n        {project.comments?.map(comment => (\n          <li key={comment.id}>\n            <div className=\"comment-author\">\n              <Avatar src={comment.photoURL} />\n              <p>{comment.displayName}</p>\n            </div>\n            <div className=\"comment-date\">\n              <p>{formatDistanceToNow(comment.createdAt.toDate(), {addSuffix: true})}</p>\n            </div>\n            <div className=\"comment-content\">\n              <p>{comment.content}</p>\n            </div>\n          </li>\n        ))}\n      </ul>\n      \n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment:</span>\n          <textarea\n            style={{resize: \"none\"}}\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ProjectComments","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport Avatar from \"../../components/Avatar\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport { useNavigate } from 'react-router-dom'\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useCollection } from '../../hooks/useCollection';\nimport { useDocument } from '../../hooks/useDocument';\n\nconst ProjectSummary = ({project}) => {\n  const { deleteDocument } = useFirestore('projects')\n  const { user } = useAuthContext()\n  const history = useNavigate()\n\n\n  const change = () => {\n    const assignedUsersList = project.assignedUsersList.map((ass)=>{\n      const { documents, error } = useCollection('users', [firebase.firestore.FieldPath.documentId(), \"==\", ass])\n      return documents?.[0]\n    })  \n    return assignedUsersList\n  }\n  const pros = change()\n\n  const handleClick = async(e) =>{\n    await deleteDocument(project.id)\n    history('/')\n  }\n  \n  const { document, error } = useDocument('users',project.createdBy)\n\n  \n  return  (\n    <div>\n      <div className=\"project-summary\">\n        <h2 className=\"page-title\">{project.name}</h2>\n        <p>By {document?.displayName}</p>\n        <p className=\"due-date\">\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className=\"details\">\n          {project.details}\n        </p>\n        <h4>Project assigned to:</h4>\n        <div className=\"assigned-users\">\n          {pros && pros?.map(user => (\n            <div key={parseInt(user?.id)}>\n              <Avatar src={user?.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy && (\n        <button className=\"btn\" onClick={handleClick}>Mark as Complete</button>\n      )}\n    </div>\n  )\n}\n\nexport default ProjectSummary","import { useParams } from \"react-router-dom\"\nimport { useDocument } from '../../hooks/useDocument'\nimport './Project.css'\nimport ProjectComments from \"./ProjectComments\"\nimport ProjectSummary from \"./ProjectSummary\"\n\nexport default function Project() {\n  const { id } = useParams()\n  const { document, error } = useDocument('projects',id)\n  \n  if (error) {\n    return <div className=\"error\">{error}</div>\n  }\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>\n  }\n  \n  \n\n  return (\n    <div>\n      <ProjectSummary project={document}/>\n      <ProjectComments project={document}/>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { auth,db } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      //! change the user to a offline status\n      \n      //^ the id of the document id the uid of the user\n      const { uid } = user\n      await db.collection('users').doc(uid).update({online:false})\n    \n      // sign the user out\n      await auth.signOut()\n      \n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      } \n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\nimport {useAuthContext} from '../hooks/useAuthContext'\nimport {useLogout} from '../hooks/useLogout'\n\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const {user} = useAuthContext();\n  \n  \n  return (\n    <nav className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Temple} alt=\"Logo\"/>\n          <span>Project management</span>\n        </li>\n                \n        \n\n        {!user && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>            \n\n        )}\n\n        {user && (\n          <>\n            <li>\n              {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n              {isPending && <button className=\"btn\" disabled>Logging out...</button>}\n            </li>\n          </>\n        )}\n        \n\n        \n      </ul> \n    </nav>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\"\nimport { useAuthContext } from '../hooks/useAuthContext'\nimport { useEffect, useRef } from \"react\"\nimport \"./Sidebar.css\"\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\nimport Avatar from \"./Avatar\"\n\nexport default function Sidebar() {\n  const {user}= useAuthContext()\n  const ref = useRef()\n\n  useEffect(() => {\n    console.log(ref.current)\n  })\n\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={ user.photoURL}/> \n          <p>{ user?.displayName}</p>\n        </div>\n        \n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink to=\"/\" end>\n                  <img src={DashboardIcon} alt=\"DashboardIcon\"/>\n                  <span>Dashboard</span>\n              </NavLink>\n            </li>\n            \n            <li>\n              <NavLink to=\"create\" >\n                <img src={AddIcon} alt=\"AddIcon\"/>\n                <span>New project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n        \n        \n      </div>\n    </div>\n  )\n}\n//? show us the dashboard and create page","import firebase from 'firebase/app'\nimport 'firebase/firestore'\n\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { useCollection } from '../hooks/useCollection'\nimport Avatar from './Avatar'\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n  const {user} = useAuthContext();\n  const { documents, error } = useCollection('users', [firebase.firestore.FieldPath.documentId(), \"!=\", user.uid])  \n\n \n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {documents && documents.map(user => (\n        <div key={user.id} className=\"user-list-item\">\n          {user.online ? <span className=\"online-user\"></span> : <span className=\"offline-user\"></span> }\n          <span>{user.displayName}</span>\n          <Avatar src={user.photoURL} />\n        </div>\n      ))}\n      {error && <div>{error}</div>}\n    </div>\n  )\n}\n","import { BrowserRouter, Route, Routes, Navigate } from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n\n// styles\nimport './App.css'\n\n// pages & components\nimport Dashboard from './pages/dashboard/Dashboard'\nimport Create from './pages/create/Create'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Project from './pages/project/Project'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport OnlineUsers from './components/OnlineUsers'\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Routes>\n              <Route \n                path=\"/\" \n                element={user ? <Dashboard />:<Navigate to=\"/login\" />}/>\n                \n              <Route \n                path=\"/create\" \n                element={user ? <Create />:<Navigate to=\"/login\" />}/>\n                \n              <Route \n                path=\"/projects/:id\" \n                element={user ? <Project />:<Navigate to=\"/login\" />}/>\n                \n              <Route \n                path=\"/login\" \n                element={user ? <Navigate to=\"/\" />:<Login />}/>\n              \n              <Route \n                path=\"/signup\" \n                element={user ? <Navigate to=\"/\" />:<Signup />}/>\n\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}